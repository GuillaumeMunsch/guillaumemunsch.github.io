(this["webpackJsonpreact-game-of-life"]=this["webpackJsonpreact-game-of-life"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(3),s=a.n(i),o=(a(14),a(4)),u=a(5),c=a(7),l=a(6),h=a(8),d=a(1),m=(a(15),function(e,t,a){return Object(d.a)(Array(Math.ceil(e/a))).map((function(e,n){return Object(d.a)(Array(Math.ceil(t/a))).map((function(e,t){return!1}))}))}),f=function(){var e=window,t=e.innerWidth,a=e.innerHeight;return{width:t,height:a,headerHeight:60,squareSize:30,map:m(t,a,30),running:!1,roundTime:200}},g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).updateWindowDimensions=function(){a.setState({width:window.innerWidth,height:window.innerHeight},a.drawGrid)},a.onCanvasPress=function(e){var t=Math.floor(e.pageX/a.state.squareSize),n=Math.floor((e.pageY-a.state.headerHeight)/a.state.squareSize),r=Object(d.a)(a.state.map.map((function(e){return Object(d.a)(e)})));r[t][n]=!r[t][n],r[t][n]?a.state.canvasContext.fillRect(t*a.state.squareSize,n*a.state.squareSize,a.state.squareSize,a.state.squareSize):a.state.canvasContext.clearRect(t*a.state.squareSize+1,n*a.state.squareSize+1,a.state.squareSize-1,a.state.squareSize-1),a.setState({map:r})},a.drawGrid=function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(a.state.canvasContext)e=a.state.canvasContext;else{var n=a.refs.canvas;n.addEventListener("mousedown",a.onCanvasPress,!1),e=n.getContext("2d")}e.beginPath(),t&&(console.log("On clear"),e.clearRect(0,0,500,500));for(var r=0;r<a.state.width;r+=a.state.squareSize)e.moveTo(r,0),e.lineTo(r,a.state.height),e.moveTo(0,r),e.lineTo(a.state.width,r);for(var i=0;i<a.state.map.length;i++)for(var s=0;s<a.state.map[i].length;s++){var o=a.state.map[i][s];o?e.fillRect(i*a.state.squareSize,s*a.state.squareSize,a.state.squareSize,a.state.squareSize):e.clearRect(i*a.state.squareSize+1,s*a.state.squareSize+1,a.state.squareSize-1,a.state.squareSize-1)}e.stroke(),a.setState({canvasContext:e})},a.updateCell=function(e,t,a){var n=0;return e-1>=0&&t-1>=0&&a[e-1][t-1]&&n++,t-1>=0&&a[e][t-1]&&n++,e+1<a.length&&t-1>=0&&a[e+1][t-1]&&n++,e-1>=0&&a[e-1][t]&&n++,e+1<a.length&&a[e+1][t]&&n++,e-1>=0&&t+1<=a[e].length&&a[e-1][t+1]&&n++,t+1<=a[e].length&&a[e][t+1]&&n++,e+1<a.length&&t+1<=a[e].length&&a[e+1][t+1]&&n++,a[e][t]&&2===n||3===n},a.startAndStopGame=function(){a.state.running&&setTimeout((function(){for(var e=Object(d.a)(a.state.map.map((function(e){return Object(d.a)(e)}))),t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)e[t][n]=a.updateCell(t,n,a.state.map);a.setState({map:e},(function(){a.drawGrid(),a.startAndStopGame()}))}),a.state.roundTime)},a.state=f(),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.updateWindowDimensions),this.drawGrid()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateWindowDimensions)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement("div",{style:{height:this.state.headerHeight,backgroundColor:"#3090C7",flexDirection:"row",display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement("div",{className:"header-item"},r.a.createElement("button",{onClick:function(){return e.setState({running:!e.state.running},(function(){return e.startAndStopGame()}))}},this.state.running?"Stop":"Start")),r.a.createElement("div",{className:"header-item"},r.a.createElement("span",null,"Time (in ms): "),r.a.createElement("input",{disabled:this.state.running,type:"text",value:this.state.roundTime,onChange:function(t){var a=parseInt(t.target.value);isNaN(a)&&(a=200),e.setState({roundTime:a})}})),r.a.createElement("div",{className:"header-item"},r.a.createElement("span",null,"Square size (in px): "),r.a.createElement("input",{disabled:this.state.running,type:"number",value:this.state.squareSize,min:"10",max:"100",step:"5",onChange:function(t){var a=parseInt(t.target.value);isNaN(a)?a=30:(a<10||a>100||a%5!==0)&&(a=e.state.squareSize),e.setState({squareSize:a,map:m(e.state.width,e.state.height,a)},(function(){return e.drawGrid(!0)}))}})),r.a.createElement("div",{className:"header-item"},r.a.createElement("button",{disabled:this.state.running,onClick:function(){for(var t=Object(d.a)(e.state.map.map((function(e){return Object(d.a)(e)}))),a=0;a<t.length;a++)for(var n=0;n<t[a].length;n++){var r=Math.floor(10*Math.random())%9===0;t[a][n]=r}console.log(t),e.setState({map:t},(function(){return e.drawGrid(!0)}))}},"Random fill")),r.a.createElement("div",{className:"header-item"},r.a.createElement("button",{disabled:this.state.running,onClick:function(){return e.setState(f(),(function(){return e.drawGrid(!0)}))}},"Clear"))),r.a.createElement("canvas",{ref:"canvas",width:this.state.width,height:this.state.height-this.state.headerHeight}))}}]),t}(n.PureComponent);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.47bb2ce7.chunk.js.map