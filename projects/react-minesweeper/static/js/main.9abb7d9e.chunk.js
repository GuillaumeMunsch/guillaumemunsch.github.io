(this["webpackJsonpreact-minesweeper"]=this["webpackJsonpreact-minesweeper"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a.p+"static/media/flag.35d811aa.svg"},function(e,t,a){e.exports=a.p+"static/media/bomb.65450681.svg"},function(e,t,a){e.exports=a.p+"static/media/smile.73d502ef.svg"},function(e,t,a){e.exports=a.p+"static/media/sad.7b49a330.svg"},,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,l,r,i=a(0),c=a.n(i),o=a(3),s=a.n(o),m=(a(18),a(1)),u=a(4),d=a(5),g=a(11),E=a(6),v=a(12);!function(e){e[e.UNDISCOVERED=0]="UNDISCOVERED",e[e.DISCOVERED=1]="DISCOVERED",e[e.FLAGGED=2]="FLAGGED"}(n||(n={})),function(e){e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.BIG=2]="BIG"}(l||(l={})),function(e){e[e.INITIAL=0]="INITIAL",e[e.RUNNING=1]="RUNNING",e[e.FINISHED=2]="FINISHED"}(r||(r={}));var I=a(7),p=a.n(I),C=a(8),f=a.n(C),D=a(9),h=a.n(D),N=a(10),S=a.n(N),M=function(e,t,a){var l,r,i;return(null===(l=e[t][a])||void 0===l?void 0:l.state)===n.UNDISCOVERED&&0===(null===(r=e[t][a])||void 0===r?void 0:r.neighbourMines)&&(null===(i=e[t][a])||void 0===i||!i.mined)},G=(a(19),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(g.a)(this,Object(E.a)(t).call(this,e))).createGame=function(){var e,t,r;switch(a.state.gameType){case l.SMALL:e=t=10,r=10;break;case l.MEDIUM:e=t=16,r=40;break;default:e=16,t=30,r=99}for(var i=[],c=0;c<e;c++)i=[].concat(Object(m.a)(i),[Object(m.a)(Array(t)).map((function(){return{mined:!1,neighbourMines:0,state:n.UNDISCOVERED}}))]);a.setState({gameMap:i,mines:r,remainingCells:e*t-r})},a.startGame=function(e,t){for(var n,l,i=Object(m.a)(a.state.gameMap.map((function(e){return Object(m.a)(e)}))),c=a.state.mines;c>0;c--)for(var o=!1;!o;)n=Math.floor(Math.random()*Math.floor(i.length)),l=Math.floor(Math.random()*Math.floor(i[0].length)),n===e&&l===t||i[n][l].mined||(i[n][l].mined=!0,o=!0);for(var s=0;s<a.state.gameMap.length;s++)for(var u=0;u<a.state.gameMap[s].length;u++){var d,g,E,v,I,p,C,f,D=0;s-1>=0&&u-1>=0&&(null===(d=i[s-1][u-1])||void 0===d?void 0:d.mined)&&D++,u-1>=0&&(null===(g=i[s][u-1])||void 0===g?void 0:g.mined)&&D++,s+1<i.length&&u-1>=0&&(null===(E=i[s+1][u-1])||void 0===E?void 0:E.mined)&&D++,s-1>=0&&(null===(v=i[s-1][u])||void 0===v?void 0:v.mined)&&D++,s+1<i.length&&(null===(I=i[s+1][u])||void 0===I?void 0:I.mined)&&D++,s-1>=0&&u+1<=i[s].length&&(null===(p=i[s-1][u+1])||void 0===p?void 0:p.mined)&&D++,u+1<=i[s].length&&(null===(C=i[s][u+1])||void 0===C?void 0:C.mined)&&D++,s+1<i.length&&u+1<=i[s].length&&(null===(f=i[s+1][u+1])||void 0===f?void 0:f.mined)&&D++,i[s][u].neighbourMines=D}i=a.clearCell(i,e,t),a.setState({gameMap:i,gameState:r.RUNNING})},a.loseGame=function(e,t){for(var l=Object(m.a)(a.state.gameMap.map((function(e){return Object(m.a)(e)}))),i=0;i<a.state.gameMap.length;i++)for(var c=0;c<a.state.gameMap[i].length;c++)l[i][c].mined&&l[i][c].state!==n.FLAGGED&&(l[i][c].state=n.DISCOVERED);l[e][t].minePressed=!0,a.setState({gameMap:l,gameState:r.FINISHED})},a.flagCell=function(e,t){var l=Object(m.a)(a.state.gameMap.map((function(e){return Object(m.a)(e)})));l[e][t].state=l[e][t].state===n.FLAGGED?n.UNDISCOVERED:n.FLAGGED,a.setState({gameMap:l})},a.clearCell=function(e,t,l){arguments.length>3&&void 0!==arguments[3]&&arguments[3];var r,i,c,o,s,u,d,g,E=Object(m.a)(e.map((function(e){return Object(m.a)(e)})));return E[t][l].state=n.DISCOVERED,0===E[t][l].neighbourMines?(t-1>=0&&l-1>=0&&(null===(r=E[t-1][l-1])||void 0===r?void 0:r.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t-1,l-1)),l-1>=0&&(null===(i=E[t][l-1])||void 0===i?void 0:i.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t,l-1)),t+1<E.length&&l-1>=0&&(null===(c=E[t+1][l-1])||void 0===c?void 0:c.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t+1,l-1)),t-1>=0&&(null===(o=E[t-1][l])||void 0===o?void 0:o.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t-1,l)),t+1<E.length&&(null===(s=E[t+1][l])||void 0===s?void 0:s.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t+1,l)),t-1>=0&&l+1<=E[t].length&&(null===(u=E[t-1][l+1])||void 0===u?void 0:u.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t-1,l+1)),l+1<=E[t].length&&(null===(d=E[t][l+1])||void 0===d?void 0:d.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t,l+1)),t+1<E.length&&l+1<=E[t].length&&(null===(g=E[t+1][l+1])||void 0===g?void 0:g.state)===n.UNDISCOVERED&&(E=a.clearCell(E,t+1,l+1)),E):(t-1>=0&&l-1>=0&&M(E,t-1,l-1)&&(E=a.clearCell(E,t-1,l-1)),l-1>=0&&M(E,t,l-1)&&(E=a.clearCell(E,t,l-1)),t+1<E.length&&l-1>=0&&M(E,t+1,l-1)&&(E=a.clearCell(E,t+1,l-1)),t-1>=0&&M(E,t-1,l)&&(E=a.clearCell(E,t-1,l)),t+1<E.length&&M(E,t+1,l)&&(E=a.clearCell(E,t+1,l)),t-1>=0&&l+1<=E[t].length&&M(E,t-1,l+1)&&(E=a.clearCell(E,t-1,l+1)),l+1<=E[t].length&&M(E,t,l+1)&&(E=a.clearCell(E,t,l+1)),t+1<E.length&&l+1<=E[t].length&&M(E,t+1,l+1)&&(E=a.clearCell(E,t+1,l+1)),E)},a.onClickCell=function(e,t,l){if(a.state.gameState!==r.FINISHED)if("click"===e.type){if(a.state.gameState===r.INITIAL)return a.startGame(t,l);if(a.state.gameMap[t][l].mined&&a.state.gameMap[t][l].state!==n.FLAGGED)return a.loseGame(t,l);if(a.state.gameMap[t][l].state!==n.FLAGGED){var i=a.clearCell(a.state.gameMap,t,l,!0),c=i.reduce((function(e,t,a){return e+t.reduce((function(e,t){return t.state!==n.UNDISCOVERED||t.mined?e:e+1}),0)}),0);a.setState({gameMap:i,remainingCells:c,gameState:0===c?r.FINISHED:a.state.gameState})}}else if("contextmenu"===e.type&&a.state.gameState===r.RUNNING&&a.state.gameMap[t][l].state!==n.DISCOVERED)return a.flagCell(t,l)},a.renderCell=function(e,t,l){return c.a.createElement("div",{className:"cell ".concat(e.state===n.DISCOVERED&&"cell-discovered"," ").concat(e.state===n.FLAGGED&&"cell-flagged"," ").concat(e.minePressed&&"cell-mine-pressed"),onContextMenu:function(e){return a.onClickCell(e,t,l)},onClick:function(e){return a.onClickCell(e,t,l)},key:"".concat(t,"-").concat(l)},c.a.createElement("span",{className:"cell-text"},a.renderCellContent(e)))},a.renderCellContent=function(e){switch(e.state){case n.UNDISCOVERED:return c.a.createElement("span",null);case n.DISCOVERED:return e.mined?c.a.createElement("img",{src:f.a,className:"App-icon",alt:"bomb"}):c.a.createElement("span",{className:"cell-value cell-value-".concat(e.neighbourMines)},e.neighbourMines>0&&e.neighbourMines);case n.FLAGGED:return c.a.createElement("img",{src:p.a,className:"App-icon",alt:"flag"})}},a.renderGame=function(){return c.a.createElement("div",null,a.state.gameMap.map((function(e,t){return c.a.createElement("div",{className:"row",key:t},e.map((function(e,n){return a.renderCell(e,t,n)})))})))},a.state={gameType:l.SMALL,gameMap:[],mines:10,gameState:r.INITIAL,remainingCells:-1},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentWillMount",value:function(){this.createGame()}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"App-header"},c.a.createElement("div",{className:"btn",onClick:function(){return e.setState({gameType:l.SMALL,gameState:r.INITIAL},e.createGame)}},"SMALL"),c.a.createElement("div",{className:"btn",onClick:function(){return e.setState({gameType:l.MEDIUM,gameState:r.INITIAL},e.createGame)}},"MEDIUM"),c.a.createElement("div",{className:"btn",onClick:function(){return e.setState({gameType:l.BIG,gameState:r.INITIAL},e.createGame)}},"BIG")),c.a.createElement("header",{className:"App-game"},c.a.createElement("div",null,this.renderGame()),this.state.gameState===r.FINISHED&&c.a.createElement("div",{className:"end ".concat(0===this.state.remainingCells?"won":"lost")},c.a.createElement("img",{src:0===this.state.remainingCells?h.a:S.a,className:"App-result-icon",alt:"game-result"}),c.a.createElement("div",{className:"result-text"},0===this.state.remainingCells?"Win":"Lost"),c.a.createElement("div",{className:"replay",onClick:function(){return e.setState({gameState:r.INITIAL},e.createGame)}},"Replay ?"))))}}]),t}(i.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(G,null),document.getElementById("root")),document.oncontextmenu=function(){return!1},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[13,1,2]]]);
//# sourceMappingURL=main.9abb7d9e.chunk.js.map